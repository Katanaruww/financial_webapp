<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>–§–∏–Ω–∞–Ω—Å–æ–≤—ã–π —É—á—ë—Ç</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
<script>
  let user_id = 1;

  function hideAll() {
  document.querySelectorAll(
    "#main-menu, #add-section, #view-section, #stats-section, #edit-section, #income-plan-section"
  ).forEach(el => el.classList.add("hidden"));
}


  function showAdd() {
    hideAll();
    document.getElementById("add-section").classList.remove("hidden");
  }

  function showView() {
    hideAll();
    document.getElementById("view-section").classList.remove("hidden");
  }

  function showStats() {
    hideAll();
    document.getElementById("stats-section").classList.remove("hidden");
    loadStats();
  }

  function showEdit() {
    hideAll();
    document.getElementById("edit-section").classList.remove("hidden");
  }
  function showMainMenu() {
    hideAll();
    document.getElementById("main-menu").classList.remove("hidden");
  }

async function showIncomePlan() {
  hideAll();
  document.getElementById("income-plan-section").classList.remove("hidden");

  const res = await fetch(`https://financial-webapp-bot.onrender.com/api/get_income_plan?user_id=${user_id}`);
  const data = await res.json();

  const list = document.getElementById("income-plan-list");
  list.innerHTML = "";

  if (data.plans.length === 0) {
    list.innerHTML = "<p class='text-gray-500'>–ù–µ—Ç –∑–∞–ø–∏—Å–µ–π —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –¥–æ—Ö–æ–¥–æ–≤</p>";
    return;
  }

  // –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã
  const table = document.createElement("table");
  table.className = "w-full text-left border border-collapse";

  // –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Ç–∞–±–ª–∏—Ü—ã
  const thead = document.createElement("thead");
  thead.innerHTML = `
    <tr>
      <th class="border px-2 py-1 text-sm">–î–∞—Ç–∞</th>
      <th class="border px-2 py-1 text-sm">–î–æ—Ö–æ–¥</th>
      <th class="border px-2 py-1 text-sm">–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã</th>
      <th class="border px-2 py-1 text-sm">–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏</th>
      <th class="border px-2 py-1 text-sm">–¶–µ–ª–µ–≤—ã–µ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏—è</th>
      <th class="border px-2 py-1 text-sm">–ü–æ–¥—É—à–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏</th>
      <th class="border px-2 py-1 text-sm">–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è</th>
    </tr>
  `;
  table.appendChild(thead);

  // –¢–µ–ª–æ —Ç–∞–±–ª–∏—Ü—ã
  const tbody = document.createElement("tbody");
  data.plans.forEach(([income, essentials, investments, goals, safety, fun, date]) => {
    const tr = document.createElement("tr");
    tr.innerHTML = `
      <td class="border px-2 py-1 text-sm">${new Date(date).toLocaleDateString("ru-RU")}</td>
      <td class="border px-2 py-1 text-sm">${income}‚ÇΩ</td>
      <td class="border px-2 py-1 text-sm">${essentials}‚ÇΩ</td>
      <td class="border px-2 py-1 text-sm">${investments}‚ÇΩ</td>
      <td class="border px-2 py-1 text-sm">${goals}‚ÇΩ</td>
      <td class="border px-2 py-1 text-sm">${safety}‚ÇΩ</td>
      <td class="border px-2 py-1 text-sm">${fun}‚ÇΩ</td>
    `;
    tbody.appendChild(tr);
  });
  table.appendChild(tbody);

  list.appendChild(table);
}


  data.plans.forEach(([income, essentials, investments, goals, safety, fun, date]) => {
    const item = document.createElement("div");
    item.className = "border p-2 rounded bg-gray-50";
    item.innerHTML = `
      <p><strong>–î–æ—Ö–æ–¥:</strong> ${income}‚ÇΩ (${new Date(date).toLocaleDateString("ru-RU")})</p>
      <ul class="ml-4 list-disc">
        <li>–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã: ${essentials}‚ÇΩ</li>
        <li>–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏: ${investments}‚ÇΩ</li>
        <li>–¶–µ–ª–µ–≤—ã–µ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏—è: ${goals}‚ÇΩ</li>
        <li>–ü–æ–¥—É—à–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏: ${safety}‚ÇΩ</li>
        <li>–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è: ${fun}‚ÇΩ</li>
      </ul>
    `;
    list.appendChild(item);
  });
}
}
  async function loadLatest() {
    const res = await fetch(`https://financial-webapp-bot.onrender.com/api/report`);
    const data = await res.json();
    const latest = document.getElementById("latest-expenses");
    latest.innerHTML = "";
    data.latest_expenses.forEach(([title, amount]) => {
      const div = document.createElement("div");
      div.className = "text-sm text-gray-700";
      div.textContent = `${title} ‚Äî ${amount}‚ÇΩ`;
      latest.appendChild(div);
    });
  }

  async function clearAllData() {
    const confirmed = confirm("–¢—ã —Ç–æ—á–Ω–æ —Ö–æ—á–µ—à—å —É–¥–∞–ª–∏—Ç—å –≤—Å–µ –∑–∞–ø–∏—Å–∏?");
    if (!confirmed) return;
    const res = await fetch(`https://financial-webapp-bot.onrender.com/api/clear`, { method: "POST" });
    const result = await res.json();
    alert(result.message);
    loadLatest();
  }

  function toggleForm(type) {
    document.getElementById("expense-form").classList.add("hidden");
    document.getElementById("income-form").classList.add("hidden");
    document.getElementById(`${type}-form`).classList.remove("hidden");
  }

  async function sendFormData(type) {
    const form = document.getElementById(`${type}-form`);
    const formData = new FormData(form);
    const data = Object.fromEntries(formData.entries());
    data.user_id = user_id;

    if (type === "income") {
  const res = await fetch(`https://financial-webapp-bot.onrender.com/api/income`, {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify(data)
  });

  const result = await res.json();
  form.reset();
  loadLatest();

  const planRes = await fetch("https://financial-webapp-bot.onrender.com/api/income_plan", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ income: Number(data.amount), user_id })
  });
  const planData = await planRes.json();
  const p = planData.plan;

  alert(
    `‚úÖ –î–æ—Ö–æ–¥ —Å–æ—Ö—Ä–∞–Ω—ë–Ω\n\n` +
    `üí∞ –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ:\n` +
    `–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã: ${p.essentials}‚ÇΩ\n` +
    `–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏: ${p.investments}‚ÇΩ\n` +
    `–¶–µ–ª–µ–≤—ã–µ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏—è: ${p.goals}‚ÇΩ\n` +
    `–ü–æ–¥—É—à–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏: ${p.safety}‚ÇΩ\n` +
    `–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è: ${p.fun}‚ÇΩ`
  );

} else {
  const res = await fetch(`https://financial-webapp-bot.onrender.com/api/${type}`, {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify(data)
  });

  const result = await res.json();
  alert(result.message);
  form.reset();
  loadLatest();
}
}
  async function loadView(type) {
    const res = await fetch(`https://financial-webapp-bot.onrender.com/api/report`);
    const data = await res.json();
    const table = document.getElementById("view-table");
    table.innerHTML = "";
    const rows = type === "income" ? data.incomes : data.expenses;

    if (rows.length === 0) {
      table.innerHTML = '<tr><td colspan="5" class="text-center text-gray-500">–ù–µ—Ç –∑–∞–ø–∏—Å–µ–π</td></tr>';
      return;
    }

    rows.forEach(row => {
      const tr = document.createElement("tr");
      row.forEach((val, idx) => {
        const td = document.createElement("td");
        td.className = "border px-2 py-1 text-sm";
        if (idx === row.length - 1) {
          const d = new Date(val);
          td.textContent = d.toLocaleDateString("ru-RU");
        } else {
          td.textContent = val === 0 ? "" : val;
        }
        tr.appendChild(td);
      });
      table.appendChild(tr);
    });
  }

  async function loadStats() {
    const res = await fetch(`https://financial-webapp-bot.onrender.com/api/report`);
    const data = await res.json();
    document.getElementById("stat-income").textContent = `${data.total_income}‚ÇΩ`;
    document.getElementById("stat-expense").textContent = `${data.total_expense}‚ÇΩ`;
    document.getElementById("stat-balance").textContent = `${data.balance}‚ÇΩ`;

    const categories = document.getElementById("stat-categories");
    categories.innerHTML = "";
    data.category_totals.forEach(([cat, sum]) => {
      const li = document.createElement("li");
      li.textContent = `${cat} ‚Äî ${sum}‚ÇΩ`;
      categories.appendChild(li);
    });
  }

  function sendEditForm() {
    const table = document.getElementById("edit-type").value;
    const id = document.getElementById("edit-id").value;
    const title = document.getElementById("edit-title").value.trim();
    const category = document.getElementById("edit-category").value;
    const amount = document.getElementById("edit-amount").value;
    const important = document.getElementById("edit-important").value;

    const fields = {};
    if (title) fields.title = title;
    if (amount) fields.amount = Number(amount);
    if (category) fields.category = category;
    if (important !== "") fields.important = important === "1";

    if (Object.keys(fields).length === 0) {
      alert("–£–∫–∞–∂–∏ —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ –ø–æ–ª–µ –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è");
      return;
    }

    fetch(`https://financial-webapp-bot.onrender.com/api/edit_row`, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ table, id, fields })
    })
    .then(res => res.json())
    .then(data => alert(data.message || "–ì–æ—Ç–æ–≤–æ!"))
    .catch(() => alert("–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ"));
  }

  async function checkPassword() {
    const input = document.getElementById("auth-password").value;
    const error = document.getElementById("auth-error");

    const storedHash = "bxHa9yJYC1K54jUQnjPZaaa3oz+6Q4AVwctj95iWtn8="; // üîí —Ç–≤–æ–π SHA-256 —Ö–µ—à

    const hashed = CryptoJS.SHA256(input);
    const encoded = CryptoJS.enc.Base64.stringify(hashed);

    if (encoded === storedHash) {
      document.getElementById("auth-screen").classList.add("hidden");
      document.getElementById("main-menu").classList.remove("hidden");
      loadLatest();
    } else {
      error.classList.remove("hidden");
    }
  }

  document.addEventListener("DOMContentLoaded", () => {
    document.getElementById("auth-screen").classList.remove("hidden");
  });
  
</script>


</head>
<body class="bg-gray-100 p-4">
<div id="auth-screen" class="fixed inset-0 bg-gray-100 flex items-center justify-center z-50">
  <div class="bg-white shadow-xl rounded-xl p-6 max-w-sm w-full text-center">
    <h2 class="text-xl font-bold mb-4">–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å</h2>
    <input type="password" id="auth-password" placeholder="–ü–∞—Ä–æ–ª—å" class="w-full border p-2 rounded mb-4">
    <button onclick="checkPassword()" class="bg-blue-500 text-white w-full py-2 rounded">–í–æ–π—Ç–∏</button>
    <p id="auth-error" class="text-red-500 text-sm mt-2 hidden">‚õî –ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å. –î–æ—Å—Ç—É–ø –∑–∞–∫—Ä—ã—Ç.</p>
  </div>
</div>

  <div class="max-w-md mx-auto bg-white shadow-xl rounded-xl p-6 hidden" id="main-menu">
    <h1 class="text-2xl font-bold text-center mb-4">–§–∏–Ω–∞–Ω—Å–æ–≤—ã–π —É—á—ë—Ç</h1>
    <div class="flex items-center gap-2 mb-2">
      <button onclick="showAdd()" class="flex-grow bg-blue-500 text-white py-2 rounded">‚ûï –î–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å</button>
      <button onclick="clearAllData()" class="bg-red-500 text-white px-3 py-2 rounded">üóë</button>
    </div>
    <div class="flex items-center gap-2 mb-2">
      <button onclick="showView()" class="flex-grow bg-green-500 text-white py-2 rounded">üìã –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∑–∞–ø–∏—Å–∏</button>
      <button onclick="showEdit()" class="bg-yellow-500 text-white px-3 py-2 rounded">‚úèÔ∏è</button>
    </div>
    <button onclick="showStats()" class="bg-gray-400 text-white w-full py-2 rounded mb-2">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</button>
    <button onclick="showIncomePlan()" class="bg-indigo-500 text-white w-full py-2 rounded mb-4">üìà –ü–æ–¥—Å—á—ë—Ç –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–π</button>
    <div class="bg-gray-100 rounded p-2">
      <p class="text-sm font-semibold mb-1">–ü–æ—Å–ª–µ–¥–Ω–∏–µ —Ç—Ä–∞—Ç—ã:</p>
      <div id="latest-expenses" class="space-y-1"></div>
    </div>
  </div>

  <!-- Add Section -->
  <div class="max-w-md mx-auto bg-white shadow-xl rounded-xl p-6 hidden" id="add-section">
    <h2 class="text-xl font-bold text-center mb-4">–î–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å</h2>
    <div class="flex justify-between gap-2 mb-4">
      <button onclick="toggleForm('expense')" class="bg-red-500 text-white px-4 py-2 rounded-lg w-1/2">–¢—Ä–∞—Ç–∞</button>
      <button onclick="toggleForm('income')" class="bg-green-500 text-white px-4 py-2 rounded-lg w-1/2">–î–æ—Ö–æ–¥</button>
    </div>
    <form id="expense-form" class="hidden" onsubmit="event.preventDefault(); sendFormData('expense');">
      <input name="title" placeholder="–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ" class="w-full border p-2 rounded mb-2">
      <select name="category" class="w-full border p-2 rounded mb-2">
          <option value="–î–æ–º">–î–æ–º</option>
          <option value="–î–æ–ª–≥–∏">–î–æ–ª–≥–∏</option>
          <option value="–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è">–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è</option>
          <option value="–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç">–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç</option>
          <option value="–ù–∞–ª–æ–≥–∏">–ù–∞–ª–æ–≥–∏</option>
          <option value="–ë–ª–∞–≥–æ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å">–ë–ª–∞–≥–æ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</option>
          <option value="–û–±—É—á–µ–Ω–∏–µ">–û–±—É—á–µ–Ω–∏–µ</option>
          <option value="–ü—É—Ç–µ—à–µ—Å—Ç–≤–∏—è">–ü—É—Ç–µ—à–µ—Å—Ç–≤–∏—è</option>
        <option value="–ü—Ä–æ—á–µ–µ">–ü—Ä–æ—á–µ–µ</option>
      </select>
      <input name="amount" type="number" placeholder="–°—É–º–º–∞" class="w-full border p-2 rounded mb-2">
      <label class="flex items-center mb-4">
        <input type="checkbox" name="important" class="mr-2"> –í–∞–∂–Ω–∞—è —Ç—Ä–∞—Ç–∞
      </label>
      <button type="submit" class="bg-blue-500 text-white w-full py-2 rounded">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç—Ä–∞—Ç—É</button>
    </form>
    <form id="income-form" class="hidden" onsubmit="event.preventDefault(); sendFormData('income');">
      <input name="title" placeholder="–ò—Å—Ç–æ—á–Ω–∏–∫ –¥–æ—Ö–æ–¥–∞" class="w-full border p-2 rounded mb-2">
      <input name="amount" type="number" placeholder="–°—É–º–º–∞" class="w-full border p-2 rounded mb-4">
      <button type="submit" class="bg-blue-500 text-white w-full py-2 rounded">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–æ—Ö–æ–¥</button>
    </form>
    <button onclick="hideAll(); document.getElementById('main-menu').classList.remove('hidden')" class="mt-4 bg-gray-300 px-4 py-2 rounded w-full">‚Üê –ù–∞–∑–∞–¥</button>
  </div>

  <!-- View Section -->
  <div class="max-w-3xl mx-auto bg-white shadow-xl rounded-xl p-6 hidden" id="view-section">
    <h2 class="text-xl font-bold text-center mb-4">–ü—Ä–æ—Å–º–æ—Ç—Ä –∑–∞–ø–∏—Å–µ–π</h2>
    <div class="flex justify-between mb-4">
      <button onclick="loadView('expense')" class="bg-red-500 text-white px-4 py-2 rounded-lg">–¢—Ä–∞—Ç—ã</button>
      <button onclick="loadView('income')" class="bg-green-500 text-white px-4 py-2 rounded-lg">–î–æ—Ö–æ–¥—ã</button>
    </div>
    <table class="w-full text-left border border-collapse">
      <tbody id="view-table"></tbody>
    </table>
    <button onclick="hideAll(); document.getElementById('main-menu').classList.remove('hidden')" class="mt-4 bg-gray-300 px-4 py-2 rounded w-full">‚Üê –ù–∞–∑–∞–¥</button>
  </div>

  <!-- Stats Section -->
  <div class="max-w-md mx-auto bg-white shadow-xl rounded-xl p-6 hidden" id="stats-section">
    <h2 class="text-xl font-bold text-center mb-4">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
    <div class="space-y-2 text-sm">
      <div>üí∞ –î–æ—Ö–æ–¥—ã: <span id="stat-income"></span></div>
      <div>üí∏ –†–∞—Å—Ö–æ–¥—ã: <span id="stat-expense"></span></div>
      <div>üü¢ –ë–∞–ª–∞–Ω—Å: <span id="stat-balance"></span></div>
    </div>
    <div class="mt-4">
      <h3 class="text-sm font-semibold mb-1">üìÅ –ö–∞—Ç–µ–≥–æ—Ä–∏–∏:</h3>
      <ul id="stat-categories" class="list-disc list-inside text-sm text-gray-700"></ul>
    </div>
    <button onclick="hideAll(); document.getElementById('main-menu').classList.remove('hidden')" class="mt-4 bg-gray-300 px-4 py-2 rounded w-full">‚Üê –ù–∞–∑–∞–¥</button>
  </div>

  <!-- Edit Section -->
  <div class="max-w-md mx-auto bg-white shadow-xl rounded-xl p-6 hidden" id="edit-section">
    <h2 class="text-xl font-bold text-center mb-4">‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø–∏—Å—å</h2>
    <form onsubmit="event.preventDefault(); sendEditForm();" class="space-y-2 text-sm">
      <div>
        <label>–¢–∏–ø –∑–∞–ø–∏—Å–∏:</label>
        <select id="edit-type" class="w-full border p-2 rounded">
          <option value="expenses">–¢—Ä–∞—Ç–∞</option>
          <option value="incomes">–î–æ—Ö–æ–¥</option>
        </select>
      </div>
      <div>
        <label>ID –∑–∞–ø–∏—Å–∏:</label>
        <input type="number" id="edit-id" class="w-full border p-2 rounded" required>
      </div>
      <div>
        <label>–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ:</label>
        <input type="text" id="edit-title" class="w-full border p-2 rounded" placeholder="(–æ—Å—Ç–∞–≤—å –ø—É—Å—Ç—ã–º, —á—Ç–æ–±—ã –Ω–µ –º–µ–Ω—è—Ç—å)">
      </div>
      <div>
        <label>–ö–∞—Ç–µ–≥–æ—Ä–∏—è:</label>
        <select id="edit-category" class="w-full border p-2 rounded">
          <option value="">(–Ω–µ –º–µ–Ω—è—Ç—å)</option>
          <option value="–î–æ–º">–î–æ–º</option>
          <option value="–î–æ–ª–≥–∏">–î–æ–ª–≥–∏</option>
          <option value="–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è">–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è</option>
          <option value="–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç">–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç</option>
          <option value="–ù–∞–ª–æ–≥–∏">–ù–∞–ª–æ–≥–∏</option>
          <option value="–ë–ª–∞–≥–æ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å">–ë–ª–∞–≥–æ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</option>
          <option value="–û–±—É—á–µ–Ω–∏–µ">–û–±—É—á–µ–Ω–∏–µ</option>
          <option value="–ü—É—Ç–µ—à–µ—Å—Ç–≤–∏—è">–ü—É—Ç–µ—à–µ—Å—Ç–≤–∏—è</option>
          <option value="–ü—Ä–æ—á–µ–µ">–ü—Ä–æ—á–µ–µ</option>
        </select>
      </div>
      <div>
        <label>–°—É–º–º–∞:</label>
        <input type="number" id="edit-amount" class="w-full border p-2 rounded" placeholder="(–Ω–µ –º–µ–Ω—è—Ç—å)">
      </div>
      <div>
        <label>–í–∞–∂–Ω–∞—è —Ç—Ä–∞—Ç–∞:</label>
        <select id="edit-important" class="w-full border p-2 rounded">
          <option value="">(–Ω–µ –º–µ–Ω—è—Ç—å)</option>
          <option value="1">–î–∞</option>
          <option value="0">–ù–µ—Ç</option>
        </select>
      </div>
      <button type="submit" class="bg-yellow-500 text-white w-full py-2 rounded">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è</button>
      <button onclick="hideAll(); document.getElementById('main-menu').classList.remove('hidden')" class="mt-2 bg-gray-300 w-full py-2 rounded">‚Üê –ù–∞–∑–∞–¥</button>
    </form>
  </div>

  
  <div class="max-w-md mx-auto bg-white shadow-xl rounded-xl p-6 hidden" id="income-plan-section">
    <h2 class="text-xl font-bold text-center mb-4">üìà –ü–æ–¥—Å—á—ë—Ç –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–π</h2>
    <div id="income-plan-list" class="space-y-2 text-sm text-gray-800"></div>
      <button onclick="hideAll(); showMainMenu()" class="mt-4 bg-gray-300 w-full py-2 rounded">‚Üê –ù–∞–∑–∞–¥</button>


  </div>

</body>
</html>
